Что нашел и починил

1. Несоответствие сигнатур API
Функция принимает два параметра `(id, status)`, а вызывается с объектом `{ id, status }`. TypeScript ругался, но в рантайме бы упало. Исправил сигнатуру на объект, чтобы было консистентно. Заодно добавил проверку на существование звонка (раньше был `!` который мог упасть).

2. Забыли return в useSocket
В функции обновления данных не было `return` перед `calls.map()`. Обновления от WebSocket просто игнорировались. Добавил `return`, исправил слияние объектов.

3. Хук создан, но не используется
`useSocket` был написан, но нигде не вызывался. Добавил вызов в `Dashboard`.

4. Нет обработки ошибок в UI
Использовался `callsQuery.data!` с восклицательным знаком, но проверки на ошибку не было. Если API упадет - пользователь увидит краш вместо нормального сообщения. Плюс не было проверки на пустой массив. Добавил проверку `isError` и проверку на пустой массив.

5. Нет обработки ошибок мутации
При обновлении статуса ошибки не показывались, загрузки тоже не было. Пользователь кликает на кнопку, ничего не происходит, непонятно что случилось. Добавил отображение ошибок, индикацию загрузки через `isPending`, кнопка блокируется во время запроса.

6. Неполная обработка ошибок в React Query
Везде `any` вместо типизации. При ошибке мутации состояние не откатывалось обратно - делаешь оптимистичное обновление, запрос падает, а UI остается в неправильном состоянии. Убрал все `any`, добавил типизацию. Добавил `onError` для отката состояния при ошибке. Еще добавил `cancelQueries` чтобы избежать race conditions.

7. Нет мемоизации
`CallItem` перерисовывался при каждом обновлении списка. При 1000 элементах это не очень хорошо. Обернул в `memo()`.

8. Лишняя инвалидация кэша
После оптимистичного обновления в `onMutate` вызывалась `invalidateQueries` в `onSuccess`. Это приводило к лишнему запросу к API, хотя данные уже обновлены. Убрал инвалидацию.

9. Конфликт настроек React Query
В глобальных настройках `refetchOnWindowFocus: false`, а в локальной `true`. Противоречие. Убрал локальную настройку, оставил глобальную.

10. Типизация
Убрал все `any`, добавил типизацию.

Файлы:
- `calls.ts` - исправил сигнатуру, добавил проверку на существование звонка
- `useSocket.ts` - добавил return
- `useCalls.ts` - улучшил типизацию, добавил обработку ошибок, убрал лишнюю инвалидацию
- `CallsList.tsx` - добавил обработку ошибок и пустого состояния
- `CallDetails.tsx` - добавил обработку ошибок и индикацию загрузки
- `Calltem.tsx` - добавил мемоизацию
- `App.tsx` - упростил настройки QueryClient
- `Dashboard.tsx` - подключил useSocket

По поводу работы с гитом: я мог пушить несколько комитов на каждый апдейт, но не посчитал нужным тк тестовое.